language: c
compiler: gcc
before_install:
  - sudo add-apt-repository -y ppa:elementary-os/daily
  - sudo apt-get update  -y
  - sudo apt-get install -y valac gobject-introspection libgtk-3-dev libgranite-dev libgee-dev libsqlheavy-dev=0.1.0-1
env:
  - DEBIAN_FRONTEND=noninteractive
script:
  - mkdir build
  - cd build
  - cmake ..
  - make
  - cd tests && ./envelope-tests
branches:
  only:
    - develop
    - master
